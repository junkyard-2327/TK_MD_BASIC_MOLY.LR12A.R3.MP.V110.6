#include "kal_public_api.h"
#include "kal_general_types.h"
#include "string.h"
#include "kal_trace.h"
#include "reg_base.h"
#include "sync_data.h"

#include "l1aud_common_def.h"
#include "l1audio.h"
#include "am.h"
#include "l1audio_trace.h"
#include "media.h" 
#include "l1sp_trc.h"

#include "sal_exp.h"
#include "sal_def.h"

#include "sp_4g_opt.h"
//#include "pcmrb.h"

uint16 aud_id_sp4gToneDete;

#define FRAME_SIZE    (640)
#define PATTERN_SIZE    (FRAME_SIZE*3)
#define BUFFER_SIZE    (FRAME_SIZE*4)
#define PATTERN_COR_THRD    (309532521273 * 0.75)
#define PATTERN_SEARCH_STEP    (32)
#define PATTERN_SEARCH_COUNT    (20)
#define PATTERN_ENG_THRD    (100000000)
#define FRAME_COUNT_MAX    (50*60*60*10)

int16 sp4g_frame_count;
int16 sp4g_last_tone_frame;
int16 sp4g_tone_frame_dur[2];
int16 sp4g_tone_frame_dur_index;
int16 sp4g_tone_frame_count;
int16 sp4g_tone_frame_dur_hit_count;
uint16 sp4g_pattern_flag;
int16 sp4g_detect_buffer[BUFFER_SIZE];
int16 sp4g_detect_buffer_index;
extern int16 sp4g_tone_pattern[PATTERN_SIZE];

uint16 sp4gPatternDetecion(int16* input, int16 input_index, int16 input_size, int16 frame);
uint16 sp4gToneSearch(int16 *input, int16 input_index, uint16 input_size, int16 *pattern, uint16 length, uint16 correlation_count, uint16 step);
uint16 sp4gToneDetection(int16 *x, int16 index_x, uint16 size_x, int16 *pattern, uint16 length);


uint16 sp4gToneDeteGetAudID(void)
{
   return( aud_id_sp4gToneDete );
}


void sp4gToneDeteSetAudID(uint16 u16AudID)
{
   aud_id_sp4gToneDete = u16AudID;
}


void sp4gToneDeteInit(void)
{
   aud_id_sp4gToneDete = L1Audio_GetAudioID();
   L1Audio_SetFlag( aud_id_sp4gToneDete );
   L1Audio_SetEventHandler( aud_id_sp4gToneDete, sp4gToneDeteExec );
}


void sp4gToneDeteClose(void)
{
   L1Audio_ClearFlag( aud_id_sp4gToneDete );
   L1Audio_FreeAudioID( aud_id_sp4gToneDete );
}


void sp4gToneDeteTaskInit(void)
{
    kal_prompt_trace(MOD_L1SP, "SP4G sp4gToneDeteTaskInit\n");

    uint16 i =0;
    sp4g_frame_count = 0;
    sp4g_last_tone_frame = -1;
    sp4g_tone_frame_dur[0] = 0;
    sp4g_tone_frame_dur[1] = 0;
    sp4g_tone_frame_dur_index = 0;
    sp4g_tone_frame_count = 0;
    sp4g_pattern_flag = 0;
    sp4g_tone_frame_dur_hit_count = 0;
    sp4g_detect_buffer_index = 0;

    for (i=0; i<BUFFER_SIZE; i++)
    {
        sp4g_detect_buffer[i] = 0;
    }

}


void sp4gToneDeteExec()
{
    int16   fsize, i;
    volatile uint16* ptr;

    kal_prompt_trace(MOD_L1SP, "SP4G sp4gToneDeteExec frame %d\n", sp4g_frame_count);

    fsize = SAL_PcmEx_GetBufLen(SAL_PCMEX_BUF_SD);
    ptr = SAL_PcmEx_GetBuf(SAL_PCMEX_BUF_SD);

    if(fsize != 640)
    {
//        kal_prompt_trace(MOD_L1SP, "SP4G sp4gToneDeteExec Warning: not WB, frame size = %d\n", fsize);
        sp4g_pattern_flag = 0;
        return;
    }

    for(i=0;i<fsize;i++)
    {
        sp4g_detect_buffer[sp4g_detect_buffer_index + i] = ptr[i];
    }
    kal_prompt_trace(MOD_L1SP, "SP4G sp4gToneDeteExec frame %d data copy done\n", sp4g_frame_count);

//    PCMRB_Write_from_DSP(&sp4g_detect_buffer[sp4g_detect_buffer_index], ptr, fsize);     

//    kal_prompt_trace(MOD_L1SP, "SP4G sp4gToneDeteExec data %d, %d\n", sp4g_detect_buffer[sp4g_detect_buffer_index], sp4g_detect_buffer[sp4g_detect_buffer_index+1]);

    sp4g_detect_buffer_index += FRAME_SIZE;
    if(sp4g_detect_buffer_index >= BUFFER_SIZE)
    {
        sp4g_detect_buffer_index -= BUFFER_SIZE;
    }

    if(sp4g_detect_buffer_index >= BUFFER_SIZE)
    {
        kal_prompt_trace(MOD_L1SP, "SP4G sp4gToneDeteExec Warning: sp4g_detect_buffer_index overflow= %d\n", sp4g_detect_buffer_index);
    }
//    sp4g_detect_buffer_index %= BUFFER_SIZE;
    
    sp4gPatternDetecion(sp4g_detect_buffer, sp4g_detect_buffer_index, BUFFER_SIZE, sp4g_frame_count);

    kal_prompt_trace(MOD_L1SP, "SP4G sp4gToneDeteExec frame %d done\n", sp4g_frame_count);

    sp4g_frame_count ++;
    if (sp4g_frame_count > FRAME_COUNT_MAX)
        sp4g_frame_count = 0;
}


int32 sp4gToneDeteGetResult(void)
{
   return(sp4g_pattern_flag);
}


uint16 sp4gPatternDetecion(int16* input, int16 input_index, int16 input_size, int16 frame)
{
    int dur;
    if (sp4g_last_tone_frame > 0)
    {
        if (frame - sp4g_last_tone_frame < 15)
        {
            return sp4g_pattern_flag;
        }
    }

    if (sp4gToneSearch(input, input_index, input_size, sp4g_tone_pattern, PATTERN_SIZE, PATTERN_SEARCH_COUNT, PATTERN_SEARCH_STEP) == 1)
    {
//        printf("tone frame: %d\n", frame);
        kal_prompt_trace(MOD_L1SP, "SP4G tone frame: %d\n", frame);
        sp4g_tone_frame_count ++;
        if(sp4g_tone_frame_count == 1 || (frame < sp4g_last_tone_frame))
        {
            sp4g_last_tone_frame = frame;
            return sp4g_pattern_flag;
        }        

        dur = frame - sp4g_last_tone_frame;
        sp4g_last_tone_frame = frame;
        if ((dur > sp4g_tone_frame_dur[0] - 10) && (dur < sp4g_tone_frame_dur[0] + 10))
        {
            sp4g_tone_frame_dur[0] = dur;
            sp4g_tone_frame_dur_index = 1;
            sp4g_tone_frame_dur_hit_count ++;
        }
       else if ((dur > sp4g_tone_frame_dur[1] - 10) && (dur < sp4g_tone_frame_dur[1] + 10))
        {
            sp4g_tone_frame_dur[1] = dur;
            sp4g_tone_frame_dur_index = 0;
            sp4g_tone_frame_dur_hit_count ++;
        }
        else
        {
            sp4g_tone_frame_dur[sp4g_tone_frame_dur_index++] = dur;
            sp4g_tone_frame_dur_hit_count --;
            sp4g_tone_frame_dur_index %= 2;
        }
        if(sp4g_tone_frame_dur_hit_count > 8)
        {
            sp4g_tone_frame_dur_hit_count = 8;
        }            
        else if(sp4g_tone_frame_dur_hit_count < 0)
        {
            sp4g_tone_frame_dur_hit_count = 0;
        }
        
        if(sp4g_tone_frame_dur_hit_count >= 4)
        {
            sp4g_pattern_flag = 1;
        }
        else
        {
            sp4g_pattern_flag = 0;
        }
    }
    else if (sp4g_pattern_flag == 1)
    {
        if (frame < sp4g_last_tone_frame  && frame > 3000)
        {
            sp4g_pattern_flag = 0;
        }
        else if (frame - sp4g_last_tone_frame > 3000)
        {
            sp4g_pattern_flag = 0;
        }
    }

    return sp4g_pattern_flag;
}

uint16 sp4gToneSearch(int16 *input, int16 input_index, uint16 input_size, int16 *pattern, uint16 length, uint16 correlation_count, uint16 step)
{
	int i=0;
    uint16 r;

    for (i=0; i < correlation_count; i ++)
    {
        kal_prompt_trace(MOD_L1SP, "SP4G sp4gToneDeteExec frame %d, iter: %d\n", sp4g_frame_count, i);
        r = sp4gToneDetection( input, input_index, input_size, pattern, length);
        if(r == 1)
        {
            return 1;
        }
        input_index += step;
	    if (input_index >= input_size)
	    {
	        input_index -= input_size;
	    }
        if (input_index >= input_size)
        {
            kal_prompt_trace(MOD_L1SP, "SP4G sp4gToneDeteExec Warning: input_index overflow= %d\n", input_index);
        }

//        input_index %= input_size;
    }
    return 0;
}

uint16 sp4gToneDetection(int16 *x, int16 index_x, uint16 size_x, int16 *pattern, uint16 length)
{
    int i,n = length;
    long long sum_xy=0, sum_x2=0, cor;
    int16* y = pattern;
    
//    index_x %= size_x;  
    for (i=0; i<n; i++) 
    {
        sum_x2 += x[index_x] * x[index_x];
        sum_xy += x[index_x] * y[i];
        index_x ++;
	if(index_x >= size_x)
	{
	    index_x = 0;
	}
//        index_x %= size_x;
    }

    if (sum_x2==0)
    {
        cor = 0;
    }
    else
    {
        cor =  (sum_xy<<10) / sum_x2 * (sum_xy>>10) ;
    }    
    if (cor >= PATTERN_COR_THRD && sum_x2 > PATTERN_ENG_THRD)   
    {
        return 1;
    }
    return 0;
}

int16 sp4g_tone_pattern[] = {
0x0002, 0x0002, 0x0001, 0xfffb, 0xfff3, 0xfff2, 0xfff5, 0xfff6,
0xfff1, 0xffec, 0xffeb, 0xffed, 0xffef, 0xfff3, 0xfffc, 0x0005,
0x0009, 0x000a, 0x000e, 0x0018, 0x0020, 0x0021, 0x001a, 0x0010,
0x0008, 0x0003, 0xfffe, 0xfff6, 0xffec, 0xffe2, 0xffd9, 0xffcf,
0xffc1, 0xffb6, 0xffb1, 0xffb0, 0xffaf, 0xffb0, 0xffb6, 0xffc4,
0xffd6, 0xffe5, 0xfff0, 0xfffc, 0x000a, 0x0019, 0x0025, 0x002f,
0x0038, 0x0040, 0x0043, 0x0041, 0x0039, 0x0030, 0x0028, 0x0021,
0x0017, 0x0009, 0xfffa, 0xfff2, 0xffef, 0xffef, 0xfff0, 0xfff6,
0xffff, 0x0007, 0x000d, 0x0013, 0x001d, 0x0025, 0x0026, 0x0023,
0x0022, 0x0020, 0x0017, 0x0008, 0xfffb, 0xfff2, 0xffe5, 0xffd1,
0xffbf, 0xffb5, 0xffad, 0xffa1, 0xff98, 0xff9f, 0xffb5, 0xffd1,
0xfff0, 0x0016, 0x0041, 0x0069, 0x008c, 0x00af, 0x00d5, 0x00f3,
0x0103, 0x0108, 0x0107, 0x00ff, 0x00eb, 0x00d0, 0x00b1, 0x008e,
0x0063, 0x0032, 0x0002, 0xffd6, 0xffab, 0xff84, 0xff64, 0xff4b,
0xff36, 0xff27, 0xff22, 0xff26, 0xff28, 0xff27, 0xff29, 0xff33,
0xff3d, 0xff41, 0xff41, 0xff45, 0xff4b, 0xff4a, 0xff43, 0xff41,
0xff46, 0xff4d, 0xff53, 0xff5e, 0xff71, 0xff8a, 0xffa5, 0xffc7,
0xfff7, 0x002f, 0x0065, 0x0094, 0x00be, 0x00e9, 0x0117, 0x0144,
0x016a, 0x0183, 0x0189, 0x0181, 0x0176, 0x0167, 0x014b, 0x0113,
0x00c3, 0x0069, 0x0013, 0xffc4, 0xff78, 0xff32, 0xfef7, 0xfec5,
0xfe99, 0xfe77, 0xfe69, 0xfe73, 0xfe8a, 0xfea3, 0xfebc, 0xfedc,
0xff04, 0xff33, 0xff67, 0xff9e, 0xffd0, 0xfff4, 0x000b, 0x0024,
0x0049, 0x0072, 0x0090, 0x00a2, 0x00b5, 0x00d3, 0x00f5, 0x0112,
0x0127, 0x0141, 0x0167, 0x018e, 0x01a8, 0x01b3, 0x01bd, 0x01cf,
0x01e0, 0x01db, 0x01c2, 0x01a7, 0x0194, 0x0179, 0x0145, 0x00fd,
0x00b6, 0x0074, 0x002c, 0xffd7, 0xff81, 0xff33, 0xfee8, 0xfe9e,
0xfe5d, 0xfe30, 0xfe11, 0xfdf7, 0xfde7, 0xfdee, 0xfe0a, 0xfe2f,
0xfe63, 0xfeb6, 0xff1d, 0xff76, 0xffae, 0xffd4, 0x0001, 0x0031,
0x0050, 0x005e, 0x0067, 0x006f, 0x0071, 0x0072, 0x0078, 0x007a,
0x006b, 0x0057, 0x0058, 0x006b, 0x006c, 0x004b, 0x0027, 0x0023,
0x0033, 0x0033, 0x001c, 0x0004, 0xfff5, 0xffe3, 0xffca, 0xffb6,
0xffa6, 0xff83, 0xff44, 0xff02, 0xfed9, 0xfec4, 0xfeac, 0xfe89,
0xfe63, 0xfe44, 0xfe28, 0xfe10, 0xfe02, 0xfe04, 0xfe16, 0xfe3c,
0xfe79, 0xfec7, 0xff17, 0xff5f, 0xff99, 0xffc7, 0xfff2, 0x0020,
0x0053, 0x0083, 0x00a5, 0x00b7, 0x00c2, 0x00cc, 0x00cb, 0x00aa,
0x005c, 0xffea, 0xff76, 0xff23, 0xff01, 0xff03, 0xff04, 0xfee9,
0xfebe, 0xfeab, 0xfec8, 0xfefe, 0xff2a, 0xff4b, 0xff7f, 0xffcc,
0x0012, 0x0039, 0x005c, 0x00a7, 0x010d, 0x0159, 0x0174, 0x0184,
0x01b2, 0x01f3, 0x0220, 0x022e, 0x022f, 0x0237, 0x0249, 0x0266,
0x0292, 0x02bc, 0x02ce, 0x02c4, 0x02b6, 0x02b8, 0x02bb, 0x02a7,
0x0270, 0x0222, 0x01cf, 0x0183, 0x0135, 0x00d9, 0x006c, 0xfffd,
0xff91, 0xff15, 0xfe7b, 0xfdde, 0xfd65, 0xfd12, 0xfcc3, 0xfc75,
0xfc4c, 0xfc51, 0xfc4f, 0xfc23, 0xfbcb, 0xfb0b, 0xf8e9, 0xf3f3,
0xeb39, 0xdf7c, 0xd331, 0xc960, 0xc392, 0xc0d2, 0xbecd, 0xbc82,
0xbb51, 0xbd1a, 0xc1ad, 0xc722, 0xcc8d, 0xd30b, 0xdbd9, 0xe639,
0xf0af, 0xfb03, 0x0645, 0x127d, 0x1e8e, 0x29c8, 0x34f5, 0x4088,
0x4ba9, 0x5540, 0x5d9f, 0x658b, 0x6cc0, 0x722c, 0x759d, 0x77a3,
0x7845, 0x76e9, 0x73c1, 0x6fee, 0x6bbe, 0x6617, 0x5e12, 0x547c,
0x4a84, 0x4028, 0x3483, 0x27af, 0x1a90, 0x0d9d, 0x0052, 0xf2aa,
0xe55e, 0xd90d, 0xcd4e, 0xc1c4, 0xb6c2, 0xacfe, 0xa483, 0x9d1d,
0x96ea, 0x9250, 0x8f41, 0x8d72, 0x8ced, 0x8e14, 0x910a, 0x95a5,
0x9be4, 0xa3c2, 0xacc1, 0xb60d, 0xbf99, 0xca0d, 0xd5d8, 0xe243,
0xee8a, 0xfaa5, 0x0712, 0x138c, 0x1f62, 0x2a3e, 0x347c, 0x3e06,
0x4641, 0x4ccb, 0x5233, 0x5707, 0x5afe, 0x5d4a, 0x5db6, 0x5cbb,
0x5ab2, 0x576d, 0x529e, 0x4c62, 0x4501, 0x3cb1, 0x3375, 0x295e,
0x1e79, 0x1309, 0x075e, 0xfbd9, 0xf06f, 0xe4fb, 0xd981, 0xce83,
0xc460, 0xbb21, 0xb28c, 0xaac6, 0xa41f, 0x9ece, 0x9ac8, 0x982e,
0x9745, 0x980f, 0x9a0c, 0x9cbc, 0xa04c, 0xa553, 0xac0e, 0xb3f9,
0xbc99, 0xc5ed, 0xd04a, 0xdb78, 0xe6f6, 0xf273, 0xfe25, 0x0a03,
0x15b4, 0x20c9, 0x2b59, 0x3570, 0x3edb, 0x473d, 0x4e9f, 0x5510,
0x5a5d, 0x5e2c, 0x608e, 0x61c8, 0x61d4, 0x6064, 0x5d69, 0x5932,
0x53ed, 0x4d89, 0x45ee, 0x3d5d, 0x340a, 0x2a13, 0x1f78, 0x1473,
0x092a, 0xfdca, 0xf268, 0xe73f, 0xdc69, 0xd216, 0xc86b, 0xbfa1,
0xb7b1, 0xb0a4, 0xaaa7, 0xa60a, 0xa2d4, 0xa0d9, 0xa017, 0xa0c6,
0xa2ff, 0xa68b, 0xab3d, 0xb117, 0xb82c, 0xc051, 0xc961, 0xd339,
0xddca, 0xe8d1, 0xf423, 0xff9d, 0x0b3c, 0x16c2, 0x21ff, 0x2cbc,
0x36ea, 0x405f, 0x48ff, 0x509d, 0x5723, 0x5c74, 0x6093, 0x6374,
0x6501, 0x6520, 0x63db, 0x6150, 0x5d81, 0x5867, 0x520e, 0x4aa8,
0x4255, 0x3932, 0x2f4d, 0x24d6, 0x19db, 0x0e87, 0x02fb, 0xf77a,
0xec12, 0xe0ea, 0xd632, 0xcc38, 0xc304, 0xba96, 0xb304, 0xaca6,
0xa7a3, 0xa3ef, 0xa171, 0xa046, 0xa088, 0xa230, 0xa529, 0xa973,
0xaf13, 0xb5dd, 0xbda3, 0xc63f, 0xcfb0, 0xd9d7, 0xe496, 0xefb1,
0xfb0c, 0x0671, 0x11cc, 0x1cea, 0x27af, 0x31df, 0x3b64, 0x441a,
0x4bef, 0x52b8, 0x585c, 0x5cc4, 0x5fed, 0x61ce, 0x6265, 0x61a8,
0x5f8d, 0x5c17, 0x575e, 0x5186, 0x4a94, 0x429a, 0x39a9, 0x2ff4,
0x2591, 0x1ab2, 0x0f76, 0x0411, 0xf885, 0xecf6, 0xe193, 0xd6b5,
0xcc7e, 0xc308, 0xba5a, 0xb2a0, 0xabeb, 0xa65b, 0xa212, 0x9f39,
0x9dd2, 0x9dc2, 0x9ef9, 0xa17b, 0xa54f, 0xaa5d, 0xb09c, 0xb7f0,
0xc044, 0xc966, 0xd348, 0xddc8, 0xe8c2, 0xf3ec, 0xff34, 0x0a87,
0x15d4, 0x20c7, 0x2b2a, 0x34d5, 0x3dcd, 0x45f4, 0x4d37, 0x536c,
0x5872, 0x5c23, 0x5e85, 0x5fac, 0x5f96, 0x5e23, 0x5b48, 0x5724,
0x51d4, 0x4b63, 0x43d3, 0x3b52, 0x31fd, 0x27e8, 0x1d17, 0x11d0,
0x064e, 0xfac4, 0xef30, 0xe3c7, 0xd8c0, 0xce55, 0xc48a, 0xbb85,
0xb375, 0xac94, 0xa6e7, 0xa275, 0x9f4d, 0x9d82, 0x9d07, 0x9dca,
0x9fda, 0xa34b, 0xa811, 0xadf5, 0xb4da, 0xbcb5, 0xc58c, 0xcf32,
0xd988, 0xe457, 0xef80, 0xfac9, 0x061e, 0x1161, 0x1c81, 0x2733,
0x314a, 0x3a9e, 0x4334, 0x4aec, 0x51a0, 0x571d, 0x5b5c, 0x5e5a,
0x6019, 0x608a, 0x5fa0, 0x5d5b, 0x59c3, 0x54e4, 0x4ebb, 0x4760,
0x3ef4, 0x35b2, 0x2bb3, 0x2117, 0x15f0, 0x0a79, 0xfed4, 0xf333,
0xe7b6, 0xdca7, 0xd232, 0xc881, 0xbf8c, 0xb766, 0xb026, 0xaa08,
0xa52b, 0xa19b, 0x9f50, 0x9e53, 0x9eab, 0xa050, 0xa336, 0xa759,
0xacc4, 0xb360, 0xbb01, 0xc376, 0xccbd, 0xd6c6, 0xe173, 0xec78,
0xf7b7, 0x0314, 0x0e81, 0x19ba, 0x249b, 0x2ef7, 0x38c1, 0x41c9,
0x49f1, 0x5112, 0x571e, 0x5bed, 0x5f6b, 0x6189, 0x624c, 0x61b8,
0x5fc5, 0x5c69, 0x57a8, 0x51ac, 0x4aa0, 0x42a7, 0x39af, 0x2fc1,
0x250c, 0x19fc, 0x0ec8, 0x0387, 0xf826, 0xecd0, 0xe1b6, 0xd718,
0xcd0f, 0xc3c9, 0xbb5a, 0xb3df, 0xad62, 0xa808, 0xa3ed, 0xa11f,
0x9f95, 0x9f4c, 0xa054, 0xa2b8, 0xa674, 0xab70, 0xb196, 0xb8c3,
0xc0e8, 0xc9ec, 0xd3c6, 0xde44, 0xe937, 0xf469, 0xffd7, 0x0b60,
0x16df, 0x2203, 0x2ca3, 0x369b, 0x3fe9, 0x4869, 0x4ff7, 0x5655,
0x5b66, 0x5f21, 0x619a, 0x62c7, 0x628d, 0x60da, 0x5dbd, 0x5956,
0x53b2, 0x4ce9, 0x4518, 0x3c6c, 0x32ee, 0x28be, 0x1dfa, 0x12df,
0x0782, 0xfc0e, 0xf0a9, 0xe597, 0xdae9, 0xd0bb, 0xc71f, 0xbe53,
0xb671, 0xaf95, 0xa9d1, 0xa545, 0xa1f5, 0x9fe2, 0x9f17, 0x9fb1,
0xa1b1, 0xa4fd, 0xa97d, 0xaf29, 0xb5fc, 0xbdd8, 0xc6a8, 0xd04b,
0xdaa4, 0xe571, 0xf096, 0xfbf5, 0x0785, 0x130a, 0x1e53, 0x2925,
0x336b, 0x3cf9, 0x45b0, 0x4d5d, 0x53eb, 0x5948, 0x5d7a, 0x6068,
0x61ef, 0x61f1, 0x6080, 0x5dc3, 0x59d2, 0x54b9, 0x4e7b, 0x472d,
0x3ed6, 0x359b, 0x2ba0, 0x2127, 0x163d, 0x0b02, 0xff93, 0xf43a,
0xe914, 0xde46, 0xd3dd, 0xca0b, 0xc0e9, 0xb8a0, 0xb150, 0xab27,
0xa629, 0xa25c, 0x9fce, 0x9e9c, 0x9ec9, 0xa043, 0xa30a, 0xa720,
0xac7a, 0xb2ec, 0xba63, 0xc2d3, 0xcc36, 0xd65c, 0xe12b, 0xec72,
0xf807, 0x039c, 0x0f1c, 0x1a69, 0x256f, 0x2fe4, 0x39a6, 0x4298,
0x4aa4, 0x5185, 0x571a, 0x5b67, 0x5e8c, 0x607a, 0x6114, 0x6052,
0x5e44, 0x5aee, 0x5647, 0x5066, 0x496d, 0x4183, 0x38b1, 0x2f1a,
0x24e0, 0x1a36, 0x0f25, 0x03d3, 0xf861, 0xed15, 0xe208, 0xd765,
0xcd42, 0xc3d7, 0xbb3e, 0xb39c, 0xad02, 0xa792, 0xa358, 0xa05d,
0x9e9c, 0x9e23, 0x9f06, 0xa153, 0xa508, 0xaa0c, 0xb04d, 0xb7aa,
0xc010, 0xc952, 0xd35b, 0xde03, 0xe92e, 0xf4a1, 0x003f, 0x0bdc,
0x1761, 0x227e, 0x2cf7, 0x369f, 0x3f8e, 0x47bb, 0x4eff, 0x5514,
0x59e9, 0x5d89, 0x5ff8, 0x6112, 0x60bf, 0x5f13, 0x5c2e, 0x5817,
0x52be, 0x4c36, 0x44a1, 0x3c2b, 0x32e0, 0x28e3, 0x1e50, 0x1358,
0x080b, 0xfc98, 0xf12a, 0xe606, 0xdb3f, 0xd0f3, 0xc732, 0xbe30,
0xb60c, 0xaee9, 0xa8dd, 0xa40e, 0xa090, 0x9e72, 0x9db4, 0x9e59,
0xa065, 0xa3ce, 0xa885, 0xae6d, 0xb57a, 0xbd92, 0xc6a9, 0xd090,
0xdb24, 0xe62c, 0xf184, 0xfceb, 0x0848, 0x137d, 0x1e8a, 0x2938,
0x3353, 0x3ca0, 0x4519, 0x4c9e, 0x5311, 0x5851, 0x5c66, 0x5f4c,
0x60e9, 0x611f, 0x5ffc, 0x5d9d, 0x59fb, 0x5509, 0x4ed5, 0x4798,
0x3f6d, 0x3665, 0x2c8a, 0x2218, 0x172b, 0x0bec, 0x0072, 0xf502,
0xe9b3, 0xde9c, 0xd3d7, 0xc9bd, 0xc080, 0xb834, 0xb0cd, 0xaa7c,
0xa570, 0xa1bd, 0x9f4c, 0x9e25, 0x9e63, 0xa00c, 0xa30d, 0xa75a,
0xacf8, 0xb3c2, 0xbb7b, 0xc3ef, 0xcd35, 0xd745, 0xe1f5, 0xecf4,
0xf831, 0x0396, 0x0f05, 0x1a2b, 0x24eb, 0x2f2a, 0x38d9, 0x41b4,
0x49a3, 0x5099, 0x5691, 0x5b51, 0x5eb9, 0x60ca, 0x619d, 0x6128,
0x5f4d, 0x5c0e, 0x578b, 0x51e6, 0x4b1f, 0x4344, 0x3a6a, 0x30ca,
0x2682, 0x1bb8, 0x1078, 0x04f2, 0xf949, 0xedc2, 0xe27a, 0xd7a3,
0xcd57, 0xc3d1, 0xbb27, 0xb36d, 0xacad, 0xa719, 0xa2d8, 0x9ffb,
0x9e6f, 0x9e36, 0x9f65, 0xa1f7, 0xa5ca, 0xaaba, 0xb0d1, 0xb80a,
0xc04d, 0xc95d, 0xd32e, 0xddab, 0xe8be, 0xf414, 0xff84, 0x0af2,
0x165e, 0x218c, 0x2c43, 0x3649, 0x3f93, 0x4805, 0x4f86, 0x55e7,
0x5b11, 0x5ef0, 0x6181, 0x62bc, 0x6298, 0x6110, 0x5e29, 0x59f3,
0x5479, 0x4dd1, 0x4608, 0x3d4c, 0x33b5, 0x2964, 0x1e63, 0x12e5,
0x0716, 0xfb3f, 0xef7b, 0xe3f4, 0xd8c2, 0xce20, 0xc42b, 0xbb08,
0xb2ca, 0xaba6, 0xa5bd, 0xa12a, 0x9ddf, 0x9be1, 0x9b3a, 0x9bf3,
0x9e05, 0xa167, 0xa627, 0xac39, 0xb379, 0xbbab, 0xc4c1, 0xcead,
0xd95f, 0xe496, 0xf02b, 0xfbf4, 0x07de, 0x13ac, 0x1f37, 0x2a47,
0x34c9, 0x3e93, 0x478b, 0x4f80, 0x5658, 0x5bf3, 0x604e, 0x6357,
0x64fa, 0x6526, 0x63e0, 0x613e, 0x5d4c, 0x5815, 0x519e, 0x4a09,
0x4166, 0x37de, 0x2d8b, 0x22a4, 0x1738, 0x0b72, 0xff73, 0xf388,
0xe7d4, 0xdc8a, 0xd1cd, 0xc7d6, 0xbeae, 0xb65d, 0xaeeb, 0xa89b,
0xa396, 0x9fe6, 0x9d76, 0x9c57, 0x9ca4, 0x9e65, 0xa17d, 0xa5cf,
0xab5e, 0xb226, 0xba16, 0xc2f7, 0xcca7, 0xd701, 0xe1f4, 0xed51,
0xf8f9, 0x04b5, 0x106d, 0x1be9, 0x270d, 0x31a5, 0x3b98, 0x44b2,
0x4cd8, 0x53e8, 0x59df, 0x5e9f, 0x6208, 0x63f9, 0x647b, 0x63a8,
0x618c, 0x5e1c, 0x5948, 0x5327, 0x4bd5, 0x4380, 0x3a3d, 0x3038,
0x258a, 0x1a72, 0x0f1d, 0x03c6, 0xf864, 0xecf6, 0xe18f, 0xd697,
0xcc53, 0xc2de, 0xba1b, 0xb233, 0xab68, 0xa5ea, 0xa19c, 0x9e74,
0x9c93, 0x9c26, 0x9d24, 0x9f66, 0xa2ef, 0xa7cc, 0xadf2, 0xb525,
0xbd57, 0xc67f, 0xd08e, 0xdb31, 0xe640, 0xf1a8, 0xfd69, 0x0933,
0x14cb, 0x2005, 0x2ae7, 0x3532, 0x3eb3, 0x4741, 0x4eeb, 0x558a,
0x5ae9, 0x5ee7, 0x61a3, 0x6325, 0x6344, 0x61d9, 0x5ef4, 0x5ac6,
0x5564, 0x4ee0, 0x475a, 0x3f07, 0x35e2, 0x2be5, 0x211c, 0x15dc,
0x0a64, 0xfee6, 0xf366, 0xe80c, 0xdd1b, 0xd332, 0xcb44, 0xc69b,
0xc628, 0xc9a5, 0xcf00, 0xd34b, 0xd4eb, 0xd4f4, 0xd5e0, 0xd8ac,
0xdbd8, 0xdd89, 0xde09, 0xdf20, 0xe171, 0xe3b8, 0xe4e4, 0xe5a4,
0xe72b, 0xe933, 0xea8e, 0xeb10, 0xebca, 0xed44, 0xeec5, 0xef99,
0xf02d, 0xf12a, 0xf255, 0xf30d, 0xf36e, 0xf418, 0xf51a, 0xf5de,
0xf62f, 0xf688, 0xf73b, 0xf7f9, 0xf878, 0xf8f0, 0xf9a9, 0xfa77,
0xfb13, 0xfb96, 0xfc4c, 0xfd2a, 0xfdf4, 0xfeac, 0xff80, 0x0066,
0x012c, 0x01de, 0x02bc, 0x03bf, 0x0494, 0x051b, 0x059a, 0x064a,
0x070b, 0x079e, 0x080f, 0x088a, 0x090d, 0x0973, 0x09b4, 0x09e3,
0x09f8, 0x09d9, 0x0990, 0x0952, 0x0935, 0x091f, 0x08fc, 0x08e0,
0x08e1, 0x08f1, 0x08f0, 0x08d6, 0x08b9, 0x08ac, 0x08b0, 0x08b4,
0x08a7, 0x0886, 0x0852, 0x0813, 0x07d5, 0x07ad, 0x07a5, 0x07a7,
0x078f, 0x0763, 0x0750, 0x076b, 0x078d, 0x0791, 0x078b, 0x07aa,
0x07e1, 0x07fb, 0x07ec, 0x07e3, 0x07f9, 0x0812, 0x0811, 0x0805,
0x0802, 0x07f8, 0x07d4, 0x07a4, 0x077d, 0x0753, 0x070e, 0x06bc,
0x067c, 0x0645, 0x05eb, 0x055d, 0x04c5, 0x0457, 0x041d, 0x03f7,
0x03c0, 0x0371, 0x0319, 0x02d1, 0x029b, 0x0268, 0x0236, 0x0216,
0x0215, 0x020e, 0x01cd, 0x0150, 0x00d2, 0x0086, 0x005f, 0x0031,
0xfff3, 0xffbc, 0xff96, 0xff6f, 0xff3f, 0xff18, 0xff0a, 0xff04,
0xfef6, 0xfee4, 0xfee0, 0xfee7, 0xfeeb, 0xfee7, 0xfee4, 0xfee1,
0xfed7, 0xfecc, 0xfeca, 0xfed1, 0xfeca, 0xfeaf, 0xfe8c, 0xfe72,
0xfe61, 0xfe51, 0xfe34, 0xfdfc, 0xfdae, 0xfd6f, 0xfd61, 0xfd70,
0xfd6c, 0xfd47, 0xfd25, 0xfd21, 0xfd25, 0xfd1b, 0xfd18, 0xfd31,
0xfd54, 0xfd60, 0xfd54, 0xfd3c, 0xfd10, 0xfcd0, 0xfc98, 0xfc7e,
0xfc67, 0xfc36, 0xfc04, 0xfbf9, 0xfc03, 0xfbf0, 0xfbc6, 0xfbc0,
0xfbef, 0xfc1f, 0xfc2c, 0xfc34, 0xfc58, 0xfc8c, 0xfcb7, 0xfcdd,
0xfd09, 0xfd2c, 0xfd38, 0xfd3e, 0xfd51, 0xfd65, 0xfd6a, 0xfd67,
0xfd6d, 0xfd75, 0xfd6d, 0xfd58, 0xfd4c, 0xfd51, 0xfd5c, 0xfd60,
0xfd5a, 0xfd4f, 0xfd49, 0xfd4d, 0xfd54, 0xfd55, 0xfd56, 0xfd6c,
0xfd98, 0xfdc2, 0xfdd0, 0xfdcb, 0xfdc5, 0xfdca, 0xfdd0, 0xfdd3,
0xfdd3, 0xfdd2, 0xfdd2, 0xfdd5, 0xfdda, 0xfddf, 0xfde4, 0xfdef,
0xfe01, 0xfe18, 0xfe35, 0xfe57, 0xfe7e, 0xfea7, 0xfed3, 0xff01,
0xff2b, 0xff4d, 0xff6f, 0xff9a, 0xffc7, 0xffe7, 0xfff8, 0x0003,
0x0010, 0x0017, 0x0015, 0x0011, 0x000f, 0x000e, 0x000e, 0x0011,
0x0018, 0x001f, 0x0026, 0x0034, 0x0047, 0x0056, 0x0060, 0x006e,
0x0083, 0x0097, 0x00a4, 0x00af, 0x00be, 0x00d0, 0x00dc, 0x00e2,
0x00e8, 0x00f2, 0x00fe, 0x010a, 0x0112, 0x0115, 0x0117, 0x011c,
0x0125, 0x012d, 0x0134, 0x0138, 0x013e, 0x0146, 0x014f, 0x015a,
0x0165, 0x016d, 0x0176, 0x017f, 0x0187, 0x018c, 0x0192, 0x019a,
0x019e, 0x019c, 0x0195, 0x0190, 0x018d, 0x018a, 0x0186, 0x0184,
0x0181, 0x017b, 0x0176, 0x0179, 0x017f, 0x0181, 0x017f, 0x0180,
0x0187, 0x018b, 0x018c, 0x018d, 0x018d, 0x0187, 0x017c, 0x0175,
0x0178, 0x0179, 0x0174, 0x016d, 0x016c, 0x016c, 0x0169, 0x0164,
0x015f, 0x015b, 0x0156, 0x0151, 0x014e, 0x014b, 0x0147, 0x0144,
0x0143, 0x013e, 0x0134, 0x012a, 0x0126, 0x0127, 0x0125, 0x011e,
0x0118, 0x0113, 0x0110, 0x010c, 0x0106, 0x0100, 0x00f8, 0x00f0,
0x00e9, 0x00e3, 0x00dd, 0x00d5, 0x00d0, 0x00cc, 0x00c8, 0x00c4,
0x00c1, 0x00be, 0x00b9, 0x00af, 0x00a2, 0x0097, 0x0090, 0x008c,
0x0086, 0x007e, 0x0075, 0x006d, 0x0064, 0x005b, 0x0054, 0x004e,
0x0048, 0x0041, 0x003d, 0x003c, 0x003e, 0x003d, 0x0037, 0x002f,
0x0026, 0x001d, 0x0015, 0x000f, 0x000a, 0x0005, 0x0001, 0x0001,
0x0004, 0x0004, 0xffff, 0xfff6, 0xffee, 0xffe7, 0xffdd, 0xffd3,
0xffca, 0xffc5, 0xffc3, 0xffc0, 0xffbc, 0xffba, 0xffba, 0xffba,
0xffb5, 0xffad, 0xffa6, 0xff9f, 0xff99, 0xff91, 0xff8d, 0xff8d,
0xff90, 0xff91, 0xff91, 0xff94, 0xff96, 0xff95, 0xff91, 0xff8f,
0xff90, 0xff8f, 0xff8b, 0xff88, 0xff89, 0xff8b, 0xff8a, 0xff86,
0xff86, 0xff89, 0xff89, 0xff87, 0xff85, 0xff85, 0xff85, 0xff85,
0xff85, 0xff87, 0xff88, 0xff87, 0xff86, 0xff86, 0xff85, 0xff83,
0xff80, 0xff7f, 0xff81, 0xff84, 0xff86, 0xff89, 0xff8c, 0xff8e,
0xff8f, 0xff91, 0xff95, 0xff9a, 0xff9e, 0xff9f, 0xff9d, 0xff99,
0xff96, 0xff97, 0xff9a, 0xff9e, 0xffa2, 0xffa5, 0xffa7, 0xffa6,
0xffa3, 0xffa3, 0xffa7, 0xffaa, 0xffaa, 0xffa8, 0xffa8, 0xffa9,
0xffaa, 0xffaa, 0xffae, 0xffb5, 0xffb8, 0xffb6, 0xffb6, 0xffbb,
0xffc4, 0xffcb, 0xffcd, 0xffcf, 0xffd2, 0xffd1, 0xffcf, 0xffcf,
0xffd0, 0xffd1, 0xffcf, 0xffcd, 0xffcf, 0xffd3, 0xffd8, 0xffde,
0xffe3, 0xffe8, 0xffed, 0xfff0, 0xfff2, 0xfff2, 0xfff2, 0xfff3,
0xfff6, 0xfff7, 0xfff7, 0xfff9, 0xfffe, 0x0004, 0x0007, 0x0008,
0x0008, 0x0009, 0x0007, 0x0005, 0x0006, 0x000a, 0x000d, 0x000e,
0x000f, 0x0011, 0x0013, 0x0013, 0x0015, 0x001b, 0x0020, 0x0020,
0x001c, 0x0017, 0x0018, 0x001c, 0x0021, 0x0025, 0x0029, 0x002e,
0x0033, 0x0035, 0x0032, 0x002f, 0x002f, 0x0032, 0x0035, 0x0038,
0x003b, 0x0040, 0x0043, 0x0042, 0x003f, 0x003e, 0x003e, 0x003c,
0x003b, 0x003d, 0x003f, 0x0040, 0x0040, 0x0041, 0x0041, 0x003f,
0x003c, 0x003c, 0x003b, 0x003a, 0x003a, 0x003a, 0x0039, 0x0035,
0x0031, 0x0031, 0x0034, 0x0033, 0x0030, 0x0030, 0x0033, 0x0036,
0x0033, 0x0030, 0x0030, 0x0032, 0x0034, 0x0036, 0x0036, 0x0034,
0x002e, 0x0029, 0x0029, 0x002a, 0x002a, 0x002a, 0x002a, 0x0029,
0x0024, 0x0021, 0x0025, 0x002c, 0x002c, 0x0025, 0x001e, 0x001d
};
